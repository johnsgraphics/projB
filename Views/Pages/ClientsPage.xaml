<!--  filename: F:\CabinetDoc Pro\Views\Pages\ClientsPage.xaml  -->
<Page
    x:Class="CabinetDocProWpf.Views.Pages.ClientsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="800"
    d:DesignWidth="1200"
    Background="#F3F5FA"
    mc:Ignorable="d">

    <ScrollViewer PanningMode="VerticalOnly" VerticalScrollBarVisibility="Auto">
        <Grid Margin="40,30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  Header Section ... -->
            <!--  Clients List (Visible when data exists) -->
            <Border
                x:Name="ClientsList"
                Grid.Row="3"
                Padding="0"
                Background="Transparent"
                Visibility="Collapsed">
                <ListView
                    Name="ListClients"
                    Background="Transparent"
                    BorderThickness="0"
                    ItemsSource="{Binding Clients}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="0,0,0,15" Padding="24" Background="White" CornerRadius="12">
                                <Border.Effect>
                                    <DropShadowEffect BlurRadius="10" Opacity="0.08" ShadowDepth="0" Color="#000000" />
                                </Border.Effect>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock FontSize="16" FontWeight="SemiBold" Foreground="#1F2937" Text="{Binding Name}" />
                                        <TextBlock Margin="0,6,0,0" FontSize="13" Foreground="#6B7280" Text="{Binding Address}" />
                                        <StackPanel Margin="0,8,0,0" Orientation="Horizontal">
                                            <TextBlock Margin="0,0,15,0" FontSize="12" Foreground="#9CA3AF">
                                                <Run Text="NIF: " />
                                                <Run Foreground="#1F2937" Text="{Binding Nif}" />
                                            </TextBlock>
                                            <TextBlock FontSize="12" Foreground="#9CA3AF">
                                                <Run Text="RC: " />
                                                <Run Foreground="#1F2937" Text="{Binding Rc}" />
                                            </TextBlock>
                                        </StackPanel>
                                    </StackPanel>

                                    <!-- Edit button -->
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <Button Padding="12,8" Content="📝 Modifier" FontSize="12" Style="{StaticResource SecondaryButtonStyle}" Click="EditClient_Click"/>
                                    </StackPanel>

                                    <!-- Delete button -->
                                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                        <Button Padding="12,8" Content="🗑 Supprimer" FontSize="12" Style="{StaticResource DangerButtonStyle}" Click="DeleteClient_Click"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Border>

            <!-- Empty State ... -->
        </Grid>
    </ScrollViewer>
</Page>
